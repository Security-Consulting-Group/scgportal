{% extends "base.html" %}
{% load crispy_forms_tags %}
{% load dashboard_tags %}

{% block content %}
<h2 class="mt-3">Update Profile</h2>
<hr>
<form method="post">
    {% csrf_token %}
    <div class="row">
        <div class="flex-container">
            <div class="flex-item">
                <div class="col-md-8">
                    {{ form.first_name|as_crispy_field }}
                    {{ form.last_name|as_crispy_field }}
                    {{ form.email|as_crispy_field }}
                </div>
            </div>
            <div class="flex-item">
                <h4>Change Password</h4>
                <p class="text-muted">Leave blank to keep current password</p>
                {{ form.new_password1|as_crispy_field }}
                {{ form.new_password2|as_crispy_field }}
            </div>
        </div>
    </div>
    <hr>
    <div class="right-aligned mt-3">
        <button type="submit" class="btn btn-primary">Update</button>
        <a href="{% dashboard_url %}" class="btn btn-secondary">Cancel</a>
    </div>
</form>
{% endblock %}

{% block extra_css %}
<style>
    .flex-container {
        display: flex;
        flex-wrap: wrap;
        align-items: stretch;
    }

    .flex-item {
        flex: 1;
        padding: 10px;
        min-width: 300px;
    }

    .flex-item:not(:last-child) {
        border-right: 1px solid #ccc;
    }

    @media (max-width: 768px) {
        .flex-item {
            flex-basis: 100%;
        }

        .flex-item:not(:last-child) {
            border-right: none;
            border-bottom: 1px solid #ccc;
        }
    }
</style>
{% endblock %}